<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk">
<title>无标题文档</title>
<style>
img { position:absolute; top:200px; left:300px; width:180px; }
#img1 { left:100px; }
</style>

<script src="move.js"></script>
<script>
window.onload = function () {
 
 var oImg1 = document.getElementById('img1');
var oImg2 = document.getElementById('img2');
	
	oImg1.onclick = fnShake;
	oImg2.onclick = fnShake;
	

};
function fnShake() {
var _this=this;
		shake( _this, 'left', function(){
			shake( _this, 'top' );
		});
	}
function shake(obj,attr,fn){
var arr = [];
    var num = 0;  
	for ( var i=20; i>0; i-=2 ) {
		arr.push( i, -i );
	}
	arr.push(0);  
	var pos = parseInt( getStyle(obj, attr) );
 
	clearInterval(obj.timer);
	  obj.timer=setInterval(function(){
	 obj.style[attr]=pos+arr[num]+"px";
	 num++;
	 if(num==arr.length){
	 clearInterval(obj.timer);
	 console.log(attr+"---"+obj.id+"--结束")
	 if(null!=fn){
	 fn();
	 }
	 } 
	 },50); 

}
 
</script>

</head>

<body> 
<img id="img1" src="img/4.jpg" />
<img id="img2" src="img/5.jpg" />

</body>
</html>
